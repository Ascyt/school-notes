<!DOCTYPE html><meta charset=UTF-8><title>Docker</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><style>body,html{height:100%;font-family:Arial,sans-serif;margin:0}#header{display:flex;align-items:center;background-color:#f0f0f0;padding:10px}#title{flex:1;font-size:24px}#navbar{display:flex}#navbar .tab-button{margin-left:10px;padding:6px 12px;background-color:#e0e0e0;border:0;cursor:pointer;font-size:16px}#navbar .tab-button.active{background-color:#ccc;font-weight:bold}#content{display:flex;height:calc(100% - 50px)}#sidebar{width:200px;min-width:50px;max-width:1000px;background-color:#e0e0e0;overflow-y:auto;position:relative}#sidebar-content a{display:block;padding:8px 12px;text-decoration:none;color:#000}#sidebar-content a:hover{background-color:#ccc}#sidebar-resizer{width:5px;cursor:ew-resize;position:absolute;top:0;right:0;bottom:0;background-color:#d0d0d0;user-select:none}#main{flex:1;padding:20px;overflow-y:auto}#main h2{margin-bottom:10px;border-bottom:1px solid #ccc;padding-bottom:5px}#main p{margin-bottom:20px;line-height:1.6}@media(max-width:600px){#header{flex-direction:column;align-items:flex-start}#tabs{margin-top:10px}#content{flex-direction:column}#sidebar{width:100%;max-width:none;min-width:0;height:200px}#sidebar-resizer{display:none}}#parents{margin-bottom:20px}table{border-collapse:collapse;margin:20px 0;font-size:18px;min-width:400px}th,td{padding:12px 15px;border:1px solid #e0e0e0;text-align:left}th{background-color:#c0c0c0;font-weight:bold}tr:nth-child(even){background-color:#d0d0d0}tr:hover{background-color:#c0c0c0}img{width:500px;height:auto}.katex-display .katex{text-align:left;margin-left:20px}</style><div id=header><div id=title>Docker</div><div id=navbar></div></div><div id=content><div id=sidebar><div id=sidebar-content><a id=SECTION-BTN_stutz-technology-notes href=#SECTION_stutz-technology-notes onclick='onSectionClick("stutz-technology-notes")'>Stütz Technology Notes</a><a id=SECTION-BTN_wie-funktioniert-docker href=#SECTION_wie-funktioniert-docker onclick='onSectionClick("wie-funktioniert-docker")'>Wie funktioniert Docker?</a><a id=SECTION-BTN_docker-compose href=#SECTION_docker-compose onclick='onSectionClick("docker-compose")'>Docker Compose</a><a id=SECTION-BTN_virtualisierung href=#SECTION_virtualisierung onclick='onSectionClick("virtualisierung")'>Virtualisierung</a><a id=SECTION-BTN_image href=#SECTION_image onclick='onSectionClick("image")'>Image</a><a id=SECTION-BTN_container href=#SECTION_container onclick='onSectionClick("container")'>Container</a><a id=SECTION-BTN_registry href=#SECTION_registry onclick='onSectionClick("registry")'>Registry</a><a id=SECTION-BTN_volumes href=#SECTION_volumes onclick='onSectionClick("volumes")'>Volumes</a><a id=SECTION-BTN_in-der-praxis href=#SECTION_in-der-praxis onclick='onSectionClick("in-der-praxis")'>In der Praxis</a><a id=SECTION-BTN_installation href=#SECTION_installation onclick='onSectionClick("installation")'>Installation</a><a id=SECTION-BTN_docker-hub href=#SECTION_docker-hub onclick='onSectionClick("docker-hub")'>Docker Hub</a></div><div id=sidebar-resizer></div></div><div id=main><div id=parents><a href="/index.html">root</a> / <a href="/4CHIF/index.html">4CHIF</a> / <a href="/4CHIF/SYP/index.html">SYP</a> / <b>Docker</b></div><div class=section id=SECTION_stutz-technology-notes><h1>Stütz Technology Notes</h1><ul><li><a href=https://htl-leonding-college.github.io/docker-lecture-notes/>Docker-Übersicht</a><li><a href=https://htl-leonding-college.github.io/docker-lecture-notes/docker.html#bookmark-document-start>Docker-Grundlagen</a></li></ul></div><div class=section id=SECTION_wie-funktioniert-docker><h1>Wie funktioniert Docker?</h1><p>Dockerfile <span class=math>\(\rightarrow\)</span> Anweisungen, wie das Image erstellt werden soll<p>Zwei Arten Images zu erlangen:<ul><li>Docker file <code>--(docker build)</code> <span class=math>\(\rightarrow\)</span> Image<li>Image aus Registry <code>--(docker pull)</code> <span class=math>\(\rightarrow\)</span> Image</li></ul></div><div class=section id=SECTION_docker-compose><h1>Docker Compose</h1><p>Orchestriert mehrere Container (startet mehrere gleichzeitig, wartet aber bis alle gestartet sind)</p></div><div class=section id=SECTION_virtualisierung><h1>Virtualisierung</h1><p>"Nachbildung", andere Guest-OS rennen auf Host-OS. Um Cross-Platform zu ermöglichen (z.B. Linux auf Windows, oder Alpine auf Ubuntu)<p><strong>Schwergewichtig</strong> (Normale Virtualisierung):<pre><code>[       App        ]
[ Operating System ]
[   Virtual Box    ]
[ Operating System ]
[     Hardware     ]
</code></pre><p><sup>❌ nein! ❌</sup><p><strong>Leichtgewichtig</strong> (Docker):<pre><code>[    Libraries     ] (können auf OS zugreifen)
[      Docker      ]
[ Operating System ]
[     Hardware     ]
</code></pre><p><sup>✅ ja! ✅</sup></p></div><div class=section id=SECTION_image><h1>Image</h1><ul><li>Unveränderbar (immutable)<li>Schichten<li>Beim Start <span class=math>\(\rightarrow\)</span> wird zu einem Container</li></ul></div><div class=section id=SECTION_container><h1>Container</h1><ul><li>Besteht aus Prozess und Files<li><code>stop</code> <span class=math>\(\rightarrow\)</span> Prozesse löschen, Files bleiben<li><code>delete</code> <span class=math>\(\rightarrow\)</span> Files löschen</li></ul><p>Ein Container hat ein <strong>Standardmaß</strong>, was bedeutet dass die <strong>Schnittstelle nach außen normiert ist</strong> (Firewall etc. gibt es trotzdem, ansonsten ist alles genormt)<p>Wir bauen z.B. 3 Container:<ol><li><strong>Frontend</strong> (GUI, Angular)<li><strong>Backend</strong> (Quarkus)<li><strong>Datenbank</strong> (MySQL)</li></ol></div><div class=section id=SECTION_registry><h1>Registry</h1><p>Sammlung an Images <span class=math>\(\rightarrow\)</span> <a href=https://hub.docker.com/>dockerhub</a></p></div><div class=section id=SECTION_volumes><h1>Volumes</h1><h2>Variante 1: Files werden im Container gespeichert</h2><p>Nachteil: Files können schnell verloren gehen - löschen des Containers<h2>Variante 2: Bind Mount</h2><p>Files werden in einem Ordner im eigenen File-System gespeichert funktioniert unter WSL nicht<h2>Variante 3: Named Volumes:</h2><p>Ebenfalls Ordner im File-System <span class=math>\(\rightarrow\)</span> kein direkter Zugriff möglich</p></div><div class=section id=SECTION_in-der-praxis><h1>In der Praxis</h1><p>Zeigt Repository von Images:<pre><code>docker image ls
</code></pre><p>Startet container basierend am "alpine" image, führt echo command aus<pre><code>docker run alpine echo Hello 4chif
</code></pre><h2>Aufsetzen eines Javaprojektes</h2><p><sub><code>$ nano HelloWorld.java</code></sub><pre><code class=language-java>public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello World!");
    }
}
</code></pre><p>Dann: <code>Strg</code>+<code>o</code> <span class=math>\(\rightarrow\)</span> <code>Enter</code> <span class=math>\(\rightarrow\)</span> <code>Strg</code>+<code>x</code><pre><code>$ javac HelloWorld.java
$ java HelloWorld
</code></pre><p><span class=math>\(\rightarrow\)</span> <code>Hello World!</code><h2>Erstellen / Benutzen eines Dockerfiles</h2><p><sub><code>$ nano Dockerfile</code></sub><pre><code>FROM eclipse-temurin:21
COPY ./HelloWorld.java .
RUN javac HelloWorld.java
CMD java HelloWorld
</code></pre><pre><code>$ docker build -t hello-world .
$ docker image ls
$ docker run --name hello-world hello-world
$ docker container ls -a
$ docker container rm [NAME / HASH des Containers]
$ docker run -it hello-world /bin/bash
\# ll
\# exit
$ rm Dockerfile
</code></pre><p><sub><code>$ nano Dockerfile</code></sub><pre><code>FROM ubuntu:22.04
RUN apt update
RUN apt install -y nginx
COPY index.html /usr/share/nginx/html/index.html
EXPOSE 80
ENTRYPOINT ["/usr/sbin/nginx", "-g", "daemon off;"]
</code></pre><pre><code>$ docker build -t my-webserver:v1.0 .
$ docker run --rm -p 8080:80 --name my-web my-webserver:v1.0
</code></pre></div><div class=section id=SECTION_installation><h1>Installation</h1><pre><code>sudo apt update

for pkg in docker.io docker-doc docker-compose docker-compose-v2 podman-docker containerd runc; do sudo apt-get remove $pkg; done

sudo apt install -y apt-transport-https ca-certificates curl software-properties-common

lsb_release -a

sudo nano /etc/apt/sources.list.d/docker.list

echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu jammy stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

sudo apt update

curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

sudo install -m 0755 -d /etc/apt/keyrings

sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc

sudo chmod a+r /etc/apt/keyrings/docker.asc

sudo apt install -y docker-ce docker-ce-cli containerd.io

sudo docker --version

sudo docker run alpine echo Hello 4chif
</code></pre></div><div class=section id=SECTION_docker-hub><h1>Docker Hub</h1><ul><li>Erreichbar auf <a href=https://hub.docker.com/>https://hub.docker.com/</a><li>Registry von Images wie postgres</li></ul></div></div></div><script>function onTabClick(n){currentTab=n;tabButtons.forEach(t=>{t.id==="TAB-BTN_"+n?t.classList.add("active"):t.classList.remove("active")});tabContents.forEach(t=>{t.style.display=t.id==="TAB_"+n?"block":"none"});tabSidebars.forEach(t=>{t.style.display=t.id==="TAB-SIDEBAR_"+n?"block":"none"})}let currentTab="";const tabButtons=document.querySelectorAll(".tab-button"),tabContents=document.querySelectorAll(".tab"),tabSidebars=document.querySelectorAll(".tab-sidebar");tabButtons.length>0&&tabButtons[0].click();const sidebar=document.getElementById("sidebar"),resizer=document.getElementById("sidebar-resizer");let isResizing=!1;resizer.addEventListener("mousedown",function(){isResizing=!0});document.addEventListener("mousemove",function(n){if(isResizing){let t=n.clientX-sidebar.getBoundingClientRect().left;t<50&&(t=50);t>1e3&&(t=1e3);sidebar.style.width=t+"px"}});document.addEventListener("mouseup",function(){isResizing=!1})</script>